{% extends "base.html" %}

{% block core %}

<h1 class="display-4">Users list</h1>

<table class="table table-sm mt-4">
  <thead>
    <tr>
      <th>Username</th>
      <th>First name</th>
      <th>Last name</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for u in user_list|sort(attribute="username") %}
    <tr>
      <td><a href="{{ url("user", u.id) }}">{{ u.username }}</a></td>
      <td>{{ u.first_name }}</td>
      <td>{{ u.last_name }}</td>
      <td>
        <form action="{{ url("users") }}" method="POST">
          {{ xsrf_form_html|safe }}
          <input type="hidden" name="user_id" value="{{ u.id }}"/>
          <input type="submit"
                 name="operation"
                 value="Remove"
                 class="btn btn-warning btn-sm"
                 {% if not admin.permission_all %}
                   disabled
                 {% endif %}
                 />
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock core %}
